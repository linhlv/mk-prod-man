@using Kenrapid.CRM.Web.Helpers
@model Kenrapid.CRM.Web.Models.Product.AddProductForm

@{
    var product = Html.Angular().ModelFor("vm.product");
}

<form novalidate
      ng-submit="vm.form.$valid && vm.add()"
      name="vm.form">
    <fieldset ng-disabled="vm.saving">

        <div class="modal-header">
            <h3 class="modal-title">Add New Product</h3>
        </div>

        <div class="modal-body">

            <div class="alert alert-info" ng-hide="vm.errorMessage != null">
                Enter details for the new product.
            </div>
            <div class="alert alert-danger" ng-show="vm.errorMessage != null">
                {{vm.errorMessage}}
            </div>
            <div>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.Code)
                    </div>
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.Picture)
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.ColorId)
                    </div>
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.MaterialId)
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.CategoryId)
                    </div>
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.Packaging)
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.VendorId)
                    </div>
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.PCSSE)
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 col-xs-4">
                        @product.FormGroupNewFor(x => x.CMW)
                    </div>
                    <div class="col-md-4 col-xs-4">
                        @product.FormGroupNewFor(x => x.CMD)
                    </div>
                    <div class="col-md-4 col-xs-4">
                        @product.FormGroupNewFor(x => x.CMH)
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.ListPrice)
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group has-feedback has-feedback has-success">
                            <label class="control-label">Price Date</label>
                            <div class="form-group">
                                <div class='input-group date' datetimez id='datetimepicker1' ng-model="dt">
                                    <input type='text' class="form-control" required="" />
                                    <span class="input-group-addon">
                                        <span class="glyphicon glyphicon-calendar"></span>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-xs-12">
                        @product.FormGroupNewFor(x => x.Size)
                    </div>
                    <div class="col-md-6 col-xs-12">
                        <div class="form-group">
                            <label for="" class="control-label">&nbsp;</label>
                            <button type="button" class="btn btn-info form-control" data-ng-click="vm.addSize()">Add more size</button>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 col-xs-12 multiple-size" data-ng-repeat="ps in vm.product.sizes">
                        <div class="form-group">
                            <label for="" class="control-label">Size</label>
                            <div>
                                <input type="text" placeholder="Size..." ng-model="ps.value" class="form-control" style="">
                                <a class="btn btn-sm btn-danger" data-ng-click="vm.remove(ps)">x</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12 col-xs-12">
                        @product.FormGroupNewFor(x => x.Description)
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-footer">
            <button class="btn btn-danger">Add Product</button>
            <button type="button" class="btn btn-warning" ng-click="$parent.$dismiss()">Cancel</button>
        </div>

    </fieldset>
</form>